/*
 * Icon Components
 * Icon utilities, sizing, animations, and states
 */

/* ===== BASE ICON ===== */

.icon {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  fill: currentColor;
  color: inherit;
  vertical-align: middle;
  flex-shrink: 0;
  line-height: 1;
}

/* Icon as SVG */
.icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
  display: block;
}

/* Icon font fallback */
.icon-font {
  font-style: normal;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
  speak: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== ICON SIZES ===== */

.icon-xs {
  width: 0.75rem;
  height: 0.75rem;
}

.icon-sm {
  width: 0.875rem;
  height: 0.875rem;
}

.icon-md {
  width: 1rem;
  height: 1rem;
}

.icon-lg {
  width: 1.125rem;
  height: 1.125rem;
}

.icon-xl {
  width: 1.25rem;
  height: 1.25rem;
}

.icon-2xl {
  width: 1.5rem;
  height: 1.5rem;
}

.icon-3xl {
  width: 1.75rem;
  height: 1.75rem;
}

.icon-4xl {
  width: 2rem;
  height: 2rem;
}

.icon-5xl {
  width: 2.5rem;
  height: 2.5rem;
}

.icon-6xl {
  width: 3rem;
  height: 3rem;
}

.icon-7xl {
  width: 3.5rem;
  height: 3.5rem;
}

.icon-8xl {
  width: 4rem;
  height: 4rem;
}

.icon-9xl {
  width: 5rem;
  height: 5rem;
}

.icon-10xl {
  width: 6rem;
  height: 6rem;
}

/* ===== ICON COLORS ===== */

.icon-current {
  color: currentColor;
}

.icon-primary {
  color: var(--color-primary-600);
}

.icon-secondary {
  color: var(--color-secondary-600);
}

.icon-success {
  color: var(--color-success-600);
}

.icon-warning {
  color: var(--color-warning-600);
}

.icon-error {
  color: var(--color-error-600);
}

.icon-info {
  color: var(--color-info-600);
}

.icon-muted {
  color: var(--text-tertiary);
}

.icon-light {
  color: var(--color-gray-400);
}

.icon-dark {
  color: var(--color-gray-700);
}

.icon-white {
  color: var(--color-white);
}

.icon-black {
  color: var(--color-black);
}

/* Hover color changes */
.icon-hover-primary:hover {
  color: var(--color-primary-600);
}

.icon-hover-secondary:hover {
  color: var(--color-secondary-600);
}

.icon-hover-success:hover {
  color: var(--color-success-600);
}

.icon-hover-warning:hover {
  color: var(--color-warning-600);
}

.icon-hover-error:hover {
  color: var(--color-error-600);
}

.icon-hover-muted:hover {
  color: var(--text-secondary);
}

/* ===== ICON STATES ===== */

/* Disabled icon */
.icon-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Active icon */
.icon-active {
  color: var(--color-primary-600);
}

/* Icon with transition */
.icon-transition {
  transition: var(--transition-colors);
}

/* Icon with hover effects */
.icon-hover {
  cursor: pointer;
  transition: var(--transition-colors);
}

.icon-hover:hover {
  color: var(--color-primary-600);
  transform: scale(1.1);
}

/* Icon with focus */
.icon-focusable {
  border-radius: var(--radius-sm);
  outline-offset: 2px;
}

.icon-focusable:focus-visible {
  outline: 2px solid var(--border-focus);
}

/* ===== ICON ANIMATIONS ===== */

/* Spinning animation */
.icon-spin {
  animation: icon-spin 1s linear infinite;
}

@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Pulse animation */
.icon-pulse {
  animation: icon-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes icon-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Bounce animation */
.icon-bounce {
  animation: icon-bounce 1s infinite;
}

@keyframes icon-bounce {
  0%, 20%, 53%, 80%, 100% {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transform: translate3d(0, -8px, 0);
  }
  70% {
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -1px, 0);
  }
}

/* Shake animation */
.icon-shake {
  animation: icon-shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

@keyframes icon-shake {
  10%, 90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%, 80% {
    transform: translate3d(2px, 0, 0);
  }
  30%, 50%, 70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%, 60% {
    transform: translate3d(4px, 0, 0);
  }
}

/* Fade in animation */
.icon-fade-in {
  animation: icon-fade-in 0.5s ease-in-out;
}

@keyframes icon-fade-in {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Flip animation */
.icon-flip {
  animation: icon-flip 0.6s ease-in-out;
}

@keyframes icon-flip {
  0% {
    transform: perspective(400px) rotateY(0);
  }
  50% {
    transform: perspective(400px) rotateY(-180deg);
  }
  100% {
    transform: perspective(400px) rotateY(0);
  }
}

/* ===== ICON POSITIONING ===== */

/* Icon alignment */
.icon-top {
  vertical-align: top;
}

.icon-middle {
  vertical-align: middle;
}

.icon-bottom {
  vertical-align: bottom;
}

.icon-baseline {
  vertical-align: baseline;
}

.icon-text-top {
  vertical-align: text-top;
}

.icon-text-bottom {
  vertical-align: text-bottom;
}

/* Icon spacing */
.icon-mr-1 {
  margin-right: var(--spacing-1);
}

.icon-mr-2 {
  margin-right: var(--spacing-2);
}

.icon-mr-3 {
  margin-right: var(--spacing-3);
}

.icon-ml-1 {
  margin-left: var(--spacing-1);
}

.icon-ml-2 {
  margin-left: var(--spacing-2);
}

.icon-ml-3 {
  margin-left: var(--spacing-3);
}

.icon-mt-1 {
  margin-top: var(--spacing-1);
}

.icon-mb-1 {
  margin-bottom: var(--spacing-1);
}

/* ===== ICON BUTTONS ===== */

.icon-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: none;
  border: none;
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition-colors);
  position: relative;
  overflow: hidden;
}

.icon-btn:hover {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
}

.icon-btn:focus-visible {
  outline: 2px solid var(--border-focus);
  outline-offset: 2px;
}

.icon-btn:active {
  transform: scale(0.95);
}

/* Icon button sizes */
.icon-btn-xs {
  width: 1.5rem;
  height: 1.5rem;
}

.icon-btn-sm {
  width: 2rem;
  height: 2rem;
}

.icon-btn-lg {
  width: 3rem;
  height: 3rem;
}

.icon-btn-xl {
  width: 3.5rem;
  height: 3.5rem;
}

/* Icon button variants */
.icon-btn-primary {
  background-color: var(--color-primary-600);
  color: var(--color-white);
}

.icon-btn-primary:hover {
  background-color: var(--color-primary-700);
  color: var(--color-white);
}

.icon-btn-secondary {
  background-color: var(--color-secondary-600);
  color: var(--color-white);
}

.icon-btn-secondary:hover {
  background-color: var(--color-secondary-700);
  color: var(--color-white);
}

.icon-btn-success {
  background-color: var(--color-success-600);
  color: var(--color-white);
}

.icon-btn-success:hover {
  background-color: var(--color-success-700);
  color: var(--color-white);
}

.icon-btn-error {
  background-color: var(--color-error-600);
  color: var(--color-white);
}

.icon-btn-error:hover {
  background-color: var(--color-error-700);
  color: var(--color-white);
}

/* Icon button with badge */
.icon-btn-badge {
  position: relative;
}

.icon-btn-badge::after {
  content: '';
  position: absolute;
  top: 0.25rem;
  right: 0.25rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: var(--color-error-600);
  border-radius: 50%;
  border: 2px solid var(--bg-surface);
}

.icon-btn-badge-count::after {
  content: attr(data-count);
  width: auto;
  height: auto;
  min-width: 1rem;
  padding: 0 0.25rem;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-white);
  text-align: center;
  line-height: 1rem;
  border-radius: 0.5rem;
}

/* ===== ICON GROUPS ===== */

.icon-group {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-2);
}

.icon-group-sm {
  gap: var(--spacing-1);
}

.icon-group-lg {
  gap: var(--spacing-3);
}

.icon-group-vertical {
  flex-direction: column;
}

/* Icon stack (overlapping icons) */
.icon-stack {
  position: relative;
  display: inline-block;
  width: 2rem;
  height: 2rem;
}

.icon-stack .icon {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.icon-stack .icon-background {
  z-index: 1;
}

.icon-stack .icon-foreground {
  z-index: 2;
  font-size: 0.6em;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: auto;
  height: auto;
}

/* ===== LOADING ICONS ===== */

.icon-loading {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  border: 2px solid var(--color-gray-200);
  border-radius: 50%;
  border-top-color: var(--color-primary-600);
  animation: icon-spin 1s linear infinite;
}

.icon-loading-sm {
  width: 0.75rem;
  height: 0.75rem;
  border-width: 1.5px;
}

.icon-loading-lg {
  width: 1.5rem;
  height: 1.5rem;
  border-width: 3px;
}

.icon-loading-xl {
  width: 2rem;
  height: 2rem;
  border-width: 3px;
}

/* Dots loading animation */
.icon-loading-dots {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.icon-loading-dots::before,
.icon-loading-dots::after,
.icon-loading-dots {
  width: 0.25rem;
  height: 0.25rem;
  border-radius: 50%;
  background-color: var(--color-primary-600);
  animation: icon-loading-dots 1.4s infinite ease-in-out both;
}

.icon-loading-dots::before {
  content: '';
  animation-delay: -0.32s;
}

.icon-loading-dots::after {
  content: '';
  animation-delay: -0.16s;
}

@keyframes icon-loading-dots {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

/* ===== ICON VARIANTS ===== */

/* Outlined icons */
.icon-outlined {
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Filled icons */
.icon-filled {
  fill: currentColor;
  stroke: none;
}

/* Duotone icons */
.icon-duotone .icon-primary {
  fill: currentColor;
  opacity: 1;
}

.icon-duotone .icon-secondary {
  fill: currentColor;
  opacity: 0.4;
}

/* Icon with shadow */
.icon-shadow {
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.icon-shadow-lg {
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}

/* Icon with glow effect */
.icon-glow {
  filter: drop-shadow(0 0 4px currentColor);
}

/* ===== STATUS ICONS ===== */

.icon-status {
  position: relative;
}

.icon-status::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0.375rem;
  height: 0.375rem;
  border-radius: 50%;
  border: 2px solid var(--bg-surface);
}

.icon-status-online::after {
  background-color: var(--color-success-600);
}

.icon-status-away::after {
  background-color: var(--color-warning-600);
}

.icon-status-busy::after {
  background-color: var(--color-error-600);
}

.icon-status-offline::after {
  background-color: var(--color-gray-400);
}

/* ===== SOCIAL ICONS ===== */

.icon-social {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: var(--radius-sm);
  padding: 0.25rem;
  transition: var(--transition-colors);
}

.icon-social:hover {
  transform: translateY(-1px);
}

.icon-social-twitter {
  background-color: #1da1f2;
  color: white;
}

.icon-social-facebook {
  background-color: #1877f2;
  color: white;
}

.icon-social-linkedin {
  background-color: #0a66c2;
  color: white;
}

.icon-social-github {
  background-color: #333;
  color: white;
}

.icon-social-instagram {
  background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
  color: white;
}

/* ===== RESPONSIVE ICONS ===== */

@media (max-width: 767px) {
  .icon-responsive {
    width: 1.25rem;
    height: 1.25rem;
  }
  
  .icon-btn-responsive {
    width: 2.75rem;
    height: 2.75rem;
  }
  
  /* Hide icon text on mobile */
  .icon-text-responsive {
    display: none;
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* Screen reader text for icon-only buttons */
.icon-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Ensure decorative icons are hidden from screen readers */
.icon-decorative {
  aria-hidden: true;
}

/* Focus improvements for better visibility */
.icon-focusable:focus-visible {
  outline: 2px solid var(--border-focus);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* High contrast improvements */
@media (prefers-contrast: high) {
  .icon-btn {
    border: 2px solid currentColor;
  }
  
  .icon-loading {
    border-width: 3px;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .icon-spin,
  .icon-pulse,
  .icon-bounce,
  .icon-shake,
  .icon-fade-in,
  .icon-flip,
  .icon-loading,
  .icon-loading-dots,
  .icon-loading-dots::before,
  .icon-loading-dots::after {
    animation: none;
  }
  
  .icon-hover:hover,
  .icon-social:hover {
    transform: none;
  }
  
  .icon-btn:active {
    transform: none;
  }
}

/* ===== ICON UTILITIES ===== */

/* Prevent icon from shrinking in flex containers */
.icon-no-shrink {
  flex-shrink: 0;
}

/* Icon with text alignment */
.icon-text {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-2);
}

.icon-text-sm {
  gap: var(--spacing-1);
}

.icon-text-lg {
  gap: var(--spacing-3);
}

/* Icon with consistent baseline alignment */
.icon-baseline-fix {
  vertical-align: -0.125em;
}

/* Icon with rounded background */
.icon-rounded {
  background-color: var(--bg-secondary);
  border-radius: var(--radius-full);
  padding: var(--spacing-2);
}

.icon-rounded-sm {
  padding: var(--spacing-1);
}

.icon-rounded-lg {
  padding: var(--spacing-3);
}

/* Icon with border */
.icon-bordered {
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-sm);
  padding: var(--spacing-1);
}

/* Icon placeholder for missing icons */
.icon-placeholder {
  background-color: var(--bg-secondary);
  border: 1px dashed var(--border-secondary);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-tertiary);
  font-size: 0.5em;
}

.icon-placeholder::before {
  content: '?';
}